<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Solar Tanzania Directory</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --blue:#0d47a1;
  --yellow:#ff9800;
  --bg:#eef2f8;
}

body{
  margin:0;
  font-family: system-ui, sans-serif;
  background:var(--bg);
  color:#333;
}

/* ================= TOP BANNER ================= */
.top-banner{
  background:linear-gradient(90deg,var(--yellow),#f57c00);
  color:#fff;
  text-align:center;
  padding:8px;
  font-size:14px;
}
.top-banner a{
  background:#fff;
  color:#f57c00;
  padding:4px 10px;
  border-radius:4px;
  margin-left:10px;
  text-decoration:none;
  font-weight:700;
}

/* ================= NAV ================= */
.top-nav{
  background:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 25px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  position:sticky;
  top:0;
  z-index:100;
}
.logo{
  height:40px;
}
.nav-center a{
  margin:0 10px;
  text-decoration:none;
  color:var(--blue);
  font-weight:600;
}
.nav-right a{
  background:#1cc88a;
  color:#fff;
  padding:6px 12px;
  border-radius:5px;
  text-decoration:none;
  font-weight:700;
}

/* ================= HERO ================= */
.hero{
  height:65vh;
  background: url("https://res.cloudinary.com/dn6aezjpa/image/upload/v1768801950/Screenshot_2026-01-19_at_8.51.30_AM_dx2ihq.jpg")
              center/cover no-repeat;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
}

.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.45);
}
.hero-content{
  position:relative;
  z-index:2;
  color:white;
  text-align:center;
  width:90%;
  max-width:900px;
}
.hero h1{font-size:42px;}
.hero-search{
  background:rgba(0,90,140,.9);
  padding:15px;
  border-radius:6px;
  display:grid;
  grid-template-columns:1fr 1fr auto;
  gap:10px;
}
.hero-search input,.hero-search select{
  padding:10px;
  border:none;
  border-radius:4px;
}
.hero-search button{
  background:#1cc88a;
  color:white;
  border:none;
  padding:10px 16px;
  font-weight:700;
  border-radius:4px;
  cursor:pointer;
}

/* ================= SECTION TITLE ================= */
.section-title{
  text-align:center;
  margin:50px 0 20px;
  font-size:24px;
  font-weight:800;
  color:var(--blue);
}

/* ================= CARDS ================= */
.container{
  padding:20px 5%;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}

.card{
  background:white;
  border-radius:10px;
  box-shadow:0 5px 15px rgba(0,0,0,.08);
  display:flex;
  flex-direction:column;
  border-top:4px solid var(--yellow);
}

.card-body{
  padding:15px;
  display:flex;
  flex-direction:column;
  flex:1;
}
.actions{
  margin-top:auto;
}
.btn{
  background:linear-gradient(135deg,var(--yellow),#f57c00);
  color:white;
  padding:8px;
  text-align:center;
  border-radius:5px;
  text-decoration:none;
  font-weight:700;
}

/* ================= PAGINATION ================= */
.pagination{
  display:flex;
  justify-content:center;
  gap:10px;
  margin:30px 0;
}
.pagination button{
  border:none;
  padding:6px 12px;
  border-radius:4px;
  background:var(--blue);
  color:white;
  cursor:pointer;
}
.pagination button.active{
  background:var(--yellow);
}

/* ================= BLOG ================= */
.blog-container .card-body{
  text-align:center;
}

.blog-container h3{
  color:#0d47a1;
}

.blog-container p{
  font-size:14px;
}
.blog-container .btn{
  display:inline-block;
  margin:10px auto 0;
}


/* ================= FOOTER ================= */
footer{
  background:var(--blue);
  color:white;
  text-align:center;
  padding:10px;
}
</style>
</head>

<body>

<div class="top-banner">
  Promote your solar business here â€“ Get quality leads
  <a href="#">Add Your Company</a>
</div>

<div class="top-nav">
  <!-- Vector Sun Logo -->
  <div class="nav-left" style="display:flex;align-items:center;gap:8px;">
  <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
    <circle cx="12" cy="12" r="5" fill="#ff9800"/>
    <g stroke="#ff9800" stroke-width="2">
      <line x1="12" y1="1" x2="12" y2="4"/>
      <line x1="12" y1="20" x2="12" y2="23"/>
      <line x1="1" y1="12" x2="4" y2="12"/>
      <line x1="20" y1="12" x2="23" y2="12"/>
      <line x1="4" y1="4" x2="6" y2="6"/>
      <line x1="18" y1="18" x2="20" y2="20"/>
      <line x1="4" y1="20" x2="6" y2="18"/>
      <line x1="18" y1="6" x2="20" y2="4"/>
    </g>
  </svg>

  <span style="font-size:18px;font-weight:800;color:#0d47a1;">
    Solar Tanzania Directory
  </span>
</div>


  <div class="nav-center">
  <a href="index.html">Home</a>
  <a href="directory.html">Find a Solar Company</a>
  <a href="blog.html">Blog</a>
  <a href="about.html">About Us</a>
</div>

</div>

<header class="hero">
  <div class="hero-content">
    <h1>Find Trusted Solar Companies in Tanzania</h1>
    <p>Search installers, suppliers & solar providers near you</p>

  <div class="hero-search">
  <select id="categorySelect">
    <option value="all">All Categories</option>
    <option value="installers">Installers</option>
    <option value="panels">Solar Panels</option>
    <option value="batteries">Batteries</option>
    <option value="inverters">Inverters</option>
    <option value="engineering">Solar Engineering</option>
  </select>

  <select id="regionSelect">
    <option value="all">All Regions</option>
    <option value="Dar es Salaam">Dar es Salaam</option>
    <option value="Zanzibar">Zanzibar</option>
    <option value="Arusha">Arusha</option>
    <option value="Mwanza">Mwanza</option>
    <option value="Dodoma">Dodoma</option>
  </select>

  <button id="searchBtn">Search</button>
</div>

  </div>
</header>

<h2 class="section-title">Featured Solar Companies in Tanzania</h2>
<div class="container" id="featured"></div>

<h2 class="section-title">All Solar Companies</h2>
<div class="container" id="listings"></div>

<div class="pagination" id="pagination"></div>
  
<h2 class="section-title">Solar News & Tips Tanzania</h2>
<div class="container blog-container">
  <div class="card">
    <div class="card-body">
      <h3>Why Solar Energy is Growing Fast in Tanzania</h3>
      <p>Learn why solar is booming across the country.</p>
      <a class="btn" href="#">Read Article</a>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h3>Best Solar Panels for Zanzibar Climate</h3>
      <p>Which panels work best in coastal environments?</p>
      <a class="btn" href="#">Read Article</a>
    </div>
  </div>
</div>

<footer>
Â© 2026 Solar Tanzania Directory
</footer>

<script>
  
document.addEventListener("DOMContentLoaded", function () {
  const categorySelect = document.getElementById("categorySelect");
  const regionSelect = document.getElementById("regionSelect");
  const searchBtn = document.getElementById("searchBtn");

  const featuredContainer = document.getElementById("featured");
  const allContainer = document.getElementById("listings");
  const pagination = document.getElementById("pagination");

  const itemsPerPage = 12;
  let currentPage = 1;
  let companies = [];

  fetch("./data/companies.json")
    .then(res => res.json())
    .then(data => {
      companies = Array.isArray(data) ? data : [data];

      renderFeatured();
      renderPage(1);
      renderPagination();

      // ðŸ”¥ SEARCH BUTTON IKO SAHIHI HAPA NDANI
      searchBtn.addEventListener("click", () => {
        const selectedCategory = categorySelect.value.toLowerCase();
        const selectedRegion = regionSelect.value.toLowerCase();

        const filtered = companies.filter(c => {
          const categoryMatch =
            selectedCategory === "all" ||
            (c.category || "").toLowerCase().includes(selectedCategory);

          const regionMatch =
            selectedRegion === "all" ||
            (c.region || "").toLowerCase().includes(selectedRegion);

          return categoryMatch && regionMatch;
        });

        renderPageFromList(filtered);
      });
    });

  function createCard(c) {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <div class="card-body">
        <h2>${c.business_name}</h2>
        <small>${c.region || "Tanzania"}</small>
        <p>${(c.description_en || "").substring(0,120)}...</p>
        <div class="actions">
          <a class="btn" href="company.html?company=${encodeURIComponent(c.business_name)}">
            View
          </a>
        </div>
      </div>
    `;
    return card;
  }

  function renderFeatured() {
    featuredContainer.innerHTML = "";
    companies.slice(0,4).forEach(c => {
      featuredContainer.appendChild(createCard(c));
    });
  }

  function renderPage(page) {
    currentPage = page;
    allContainer.innerHTML = "";

    const start = (page - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    const sliced = companies.slice(start, end);

    sliced.forEach(c => {
      allContainer.appendChild(createCard(c));
    });
  }

  function renderPageFromList(list) {
    allContainer.innerHTML = "";
    pagination.innerHTML = "";

    if (list.length === 0) {
      allContainer.innerHTML = "<p style='text-align:center;'>No companies found.</p>";
      return;
    }

    list.forEach(c => {
      allContainer.appendChild(createCard(c));
    });

    window.scrollTo({ top: allContainer.offsetTop - 100, behavior: "smooth" });
  }

  function renderPagination() {
    pagination.innerHTML = "";
    const pageCount = Math.ceil(companies.length / itemsPerPage);

    const prev = document.createElement("button");
    prev.textContent = "â† Prev";
    prev.disabled = currentPage === 1;
    prev.onclick = () => {
      renderPage(currentPage - 1);
      renderPagination();
    };
    pagination.appendChild(prev);

    for (let i = 1; i <= pageCount; i++) {
      const btn = document.createElement("button");
      btn.textContent = i;
      if (i === currentPage) btn.classList.add("active");

      btn.onclick = () => {
        renderPage(i);
        renderPagination();
      };
      pagination.appendChild(btn);
    }

    const next = document.createElement("button");
    next.textContent = "Next â†’";
    next.disabled = currentPage === pageCount;
    next.onclick = () => {
      renderPage(currentPage + 1);
      renderPagination();
    };
    pagination.appendChild(next);
  }
});

</script>

  
  
</body>
</html>
