<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Solar Tanzania Directory</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --blue:#0d47a1;
  --yellow:#ff9800;
  --bg:#eef2f8;
}

body{
  margin:0;
  font-family: system-ui, sans-serif;
  background:var(--bg);
  color:#333;
}

/* ================= TOP BANNER ================= */
.top-banner{
  background:linear-gradient(90deg,var(--yellow),#f57c00);
  color:#fff;
  text-align:center;
  padding:8px;
  font-size:14px;
}
.top-banner a{
  background:#fff;
  color:#f57c00;
  padding:4px 10px;
  border-radius:4px;
  margin-left:10px;
  text-decoration:none;
  font-weight:700;
}

/* ================= NAV ================= */
.top-nav{
  background:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 25px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  position:sticky;
  top:0;
  z-index:100;
}
.logo{
  height:40px;
}
.nav-center a{
  margin:0 10px;
  text-decoration:none;
  color:var(--blue);
  font-weight:600;
}
.nav-right a{
  background:#1cc88a;
  color:#fff;
  padding:6px 12px;
  border-radius:5px;
  text-decoration:none;
  font-weight:700;
}

/* ================= HERO ================= */
.hero{
  height:65vh;
  background: url("https://res.cloudinary.com/dn6aezjpa/image/upload/v1768801950/Screenshot_2026-01-19_at_8.51.30_AM_dx2ihq.jpg")
              center/cover no-repeat;
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
}

.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.45);
}
.hero-content{
  position:relative;
  z-index:2;
  color:white;
  text-align:center;
  width:90%;
  max-width:900px;
}
.hero h1{font-size:42px;}
.hero-search{
  background:rgba(0,90,140,.9);
  padding:15px;
  border-radius:6px;
  display:grid;
  grid-template-columns:1fr 1fr auto;
  gap:10px;
}
.hero-search input,.hero-search select{
  padding:10px;
  border:none;
  border-radius:4px;
}
.hero-search button{
  background:#1cc88a;
  color:white;
  border:none;
  padding:10px 16px;
  font-weight:700;
  border-radius:4px;
  cursor:pointer;
}

/* ================= SECTION TITLE ================= */
.section-title{
  text-align:center;
  margin:50px 0 20px;
  font-size:24px;
  font-weight:800;
  color:var(--blue);
}

/* ================= CARDS ================= */
.container{
  padding:20px 5%;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}

.card{
  background:white;
  border-radius:10px;
  box-shadow:0 5px 15px rgba(0,0,0,.08);
  display:flex;
  flex-direction:column;
  border-top:4px solid var(--yellow);
}
.card-icon svg{
  width:40px;
  height:40px;
  fill:#0d47a1;
}

.card-body{
  padding:15px;
  display:flex;
  flex-direction:column;
  flex:1;
}
.actions{
  margin-top:auto;
}
.btn{
  background:linear-gradient(135deg,var(--yellow),#f57c00);
  color:white;
  padding:8px;
  text-align:center;
  border-radius:5px;
  text-decoration:none;
  font-weight:700;
}

/* ================= PAGINATION ================= */
.pagination{
  display:flex;
  justify-content:center;
  gap:10px;
  margin:30px 0;
}
.pagination button{
  border:none;
  padding:6px 12px;
  border-radius:4px;
  background:var(--blue);
  color:white;
  cursor:pointer;
}
.pagination button.active{
  background:var(--yellow);
}

/* ================= BLOG ================= */
.blog-container .card-body{
  text-align:center;
}

.blog-container h3{
  color:#0d47a1;
}

.blog-container p{
  font-size:14px;
}
.blog-container .btn{
  display:inline-block;
  margin:10px auto 0;
}


/* ================= FOOTER ================= */
footer{
  background:var(--blue);
  color:white;
  text-align:center;
  padding:10px;
}
</style>
</head>

<body>

<div class="top-banner">
  Promote your solar business here – Get quality leads
  <a href="#">Add Your Company</a>
</div>

<div class="top-nav">
  <!-- Vector Sun Logo -->
  <svg class="logo" viewBox="0 0 100 100">
    <circle cx="50" cy="50" r="18" fill="#ff9800"/>
    <g stroke="#ff9800" stroke-width="4">
      <line x1="50" y1="2" x2="50" y2="18"/>
      <line x1="50" y1="82" x2="50" y2="98"/>
      <line x1="2" y1="50" x2="18" y2="50"/>
      <line x1="82" y1="50" x2="98" y2="50"/>
      <line x1="15" y1="15" x2="28" y2="28"/>
      <line x1="72" y1="72" x2="85" y2="85"/>
      <line x1="15" y1="85" x2="28" y2="72"/>
      <line x1="72" y1="28" x2="85" y2="15"/>
    </g>
  </svg>

  <div class="nav-center">
    <a href="#">Home</a>
    <a href="#">Find a Solar Company</a>
    <a href="#">Blog</a>
  </div>
  <div class="nav-right">
    <a href="#">Add Your Solar Company</a>
  </div>
</div>

<header class="hero">
  <div class="hero-content">
    <h1>Find Trusted Solar Companies in Tanzania</h1>
    <p>Search installers, suppliers & solar providers near you</p>

    <div class="hero-search">
      <select>
        <option>Category</option>
        <option>Installers</option>
        <option>Panels</option>
        <option>Batteries</option>
      </select>
      <input type="text" placeholder="City or Region">
      <button>Search</button>
    </div>
  </div>
</header>

<h2 class="section-title">Featured Solar Companies in Tanzania</h2>
<div class="container" id="featured"></div>

<h2 class="section-title">Newly Added Solar Companies</h2>
<div class="container" id="newly-added"></div>

<h2 class="section-title">All Solar Companies</h2>
<div class="container" id="listings"></div>

<div class="pagination" id="pagination"></div>
  <button>&lt; Prev</button>
  <button class="active">1</button>
  <button>2</button>
  <button>Next &gt;</button>
</div>

<h2 class="section-title">Solar News & Tips Tanzania</h2>
<div class="container blog-container">
  <div class="card">
    <div class="card-body">
      <h3>Why Solar Energy is Growing Fast in Tanzania</h3>
      <p>Learn why solar is booming across the country.</p>
      <a class="btn" href="#">Read Article</a>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h3>Best Solar Panels for Zanzibar Climate</h3>
      <p>Which panels work best in coastal environments?</p>
      <a class="btn" href="#">Read Article</a>
    </div>
  </div>
</div>

<footer>
© 2026 Solar Tanzania Directory
</footer>

<script>
function getIcon(company) {
  const text = (
    (company.business_name || "") +
    (company.category || "") +
    (company.description_en || "")
  ).toLowerCase();

  if (text.includes("battery")) return `
    <svg viewBox="0 0 24 24"><path d="M16 4h-1V2h-6v2H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"/></svg>`;
  
  if (text.includes("panel")) return `
    <svg viewBox="0 0 24 24"><path d="M3 3h18v18H3z"/></svg>`;

  if (text.includes("installer") || text.includes("engineering")) return `
    <svg viewBox="0 0 24 24"><path d="M22 2l-7 7 3 3-7 7-3-3-7 7"/></svg>`;

  return `
    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v3M12 20v3M1 12h3M20 12h3"/></svg>`;
}

document.addEventListener("DOMContentLoaded", function () {
  const featuredContainer = document.getElementById("featured");
  const newlyAddedContainer = document.getElementById("newly-added");
  const allContainer = document.getElementById("listings");
  const pagination = document.getElementById("pagination");

  const itemsPerPage = 12;
  let currentPage = 1;
  let companies = [];

  fetch("./data/companies.json")
    .then(res => res.json())
    .then(data => {
      companies = Array.isArray(data) ? data : [data];

      renderFeatured();
      renderNewlyAdded();
      renderPage(1);
      renderPagination();
    });

  function createCard(c) {
    const card = document.createElement("div");
    card.className = "card";

    const icon = getIcon(c);

    card.innerHTML = `
      <div class="card-icon">${icon}</div>
      <div class="card-body">
        <h2>${c.business_name}</h2>
        <small>${c.region || "Tanzania"}</small>

        <div class="badges">
          <span class="badge">${c.category || "Solar Company"}</span>
          <span class="badge">${c.region || "Tanzania"}</span>
        </div>

        <p>${(c.description_en || "").substring(0,120)}...</p>

        <div class="actions">
          <a class="btn lead"
             href="company.html?company=${encodeURIComponent(c.business_name)}">
             View
          </a>
        </div>
      </div>
    `;
    return card;
  }

  /* FEATURED – chukua kampuni 6 za mwanzo */
  function renderFeatured() {
    featuredContainer.innerHTML = "";
    companies.slice(0, 6).forEach(c => {
      featuredContainer.appendChild(createCard(c));
    });
  }

  /* NEWLY ADDED – chukua 6 za mwisho */
  function renderNewlyAdded() {
    newlyAddedContainer.innerHTML = "";
    companies.slice(-6).forEach(c => {
      newlyAddedContainer.appendChild(createCard(c));
    });
  }

  /* ALL SOLAR COMPANIES (pagination) */
  function renderPage(page) {
    currentPage = page;
    allContainer.innerHTML = "";

    const start = (page - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    const sliced = companies.slice(start, end);

    sliced.forEach(c => {
      allContainer.appendChild(createCard(c));
    });
  }

  function renderPagination() {
    pagination.innerHTML = "";
    const pageCount = Math.ceil(companies.length / itemsPerPage);

    // Prev
    const prev = document.createElement("button");
    prev.textContent = "← Prev";
    prev.onclick = () => {
      if (currentPage > 1) {
        renderPage(currentPage - 1);
        renderPagination();
      }
    };
    pagination.appendChild(prev);

    // Pages
    for (let i = 1; i <= pageCount; i++) {
      const btn = document.createElement("button");
      btn.textContent = i;
      if (i === currentPage) btn.classList.add("active");

      btn.onclick = () => {
        renderPage(i);
        renderPagination();
        window.scrollTo({ top: 700, behavior: "smooth" });
      };
      pagination.appendChild(btn);
    }

    // Next
    const next = document.createElement("button");
    next.textContent = "Next →";
    next.onclick = () => {
      if (currentPage < pageCount) {
        renderPage(currentPage + 1);
        renderPagination();
      }
    };
    pagination.appendChild(next);
  }
});
</script>

  
  
</body>
</html>
